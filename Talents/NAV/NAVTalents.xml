<?xml version="1.0" encoding="utf-8"?>
<Talents>

  <Talent identifier="luckystrike">
    <Description tag="talentdescription.luckystrike">
    </Description>
    <Icon texture="Content/UI/TalentsIcons1.png" sheetindex="1,0" sheetelementsize="128,128"/>
    <AbilityGroupInterval interval="1">
        <Abilities>
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" multiplyafflictionsbymaxvitality="true" disabledeltatime="true">
                        <Affliction identifier="quickdrawing" amount="1.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupInterval>
    <AbilityGroupEffect abilityeffecttype="OnGainSkillPoint">
        <Conditions>
            <AbilityConditionSkill skillidentifier="weapons" />
            <AbilityConditionHasSkill skillidentifier="helm" minvalue="100" />
        </Conditions>
        <Abilities>
            <CharacterAbilityGainSimultaneousSkill skillidentifier="weapons" />
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnGainSkillPoint">
        <Conditions>
            <AbilityConditionSkill skillidentifier="helm" />
        </Conditions>
        <Abilities>
            <CharacterAbilityGainSimultaneousSkill skillidentifier="weapons" />
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="1.0" maximumpercentage="2.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="0.2"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="2.0" maximumpercentage="3.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="0.8"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="3.0" maximumpercentage="4.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="1.8"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="4.0" maximumpercentage="5.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="3.2"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="5.0" maximumpercentage="6.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="5.0"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="6.0" maximumpercentage="7.0" />
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="7.2"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnAttack">
        <Conditions>
            <AbilityConditionHasAffliction afflictionidentifier="quickdrawing" minimumpercentage="7.0"/>
            <AbilityConditionAttackData tags="pistolammoitem"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityModifyAttackData addeddamagemultiplier="8.4"/>
            <!-- 2(t^2) where t is time beetween shots -->
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <ReduceAffliction identifier="quickdrawing" strength="8.0"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="None">
        <Abilities>
            <CharacterAbilityGiveStat stattype="ExtraMissionCount" value="1" />
        </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupInterval interval="1.0">
        <Conditions>
            <AbilityConditionHasTalent identifier="targetingmatrixfocus_handheld" truthywhen="HasTalent"/>
            <AbilityConditionHasTalent identifier="targetingmatrixfocus_shipmounted" truthywhen="HasTalent"/>
        </Conditions>
        <FallbackAbilities>
            <CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix" amount="2.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
            <CharacterAbilityApplyStatusEffectsToAllies maxdistance="6000" allowself="true">
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix" amount="1.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToAllies>
        </FallbackAbilities>
    </AbilityGroupInterval>
    <AbilityGroupInterval interval="1.0">
        <Conditions>
            <AbilityConditionHasTalent identifier="targetingmatrixfocus_handheld" truthywhen="HasTalent"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix-handheld" amount="2.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
            <CharacterAbilityApplyStatusEffectsToAllies maxdistance="6000" allowself="true">
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix-handheld" amount="1.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToAllies>
        </Abilities>
    </AbilityGroupInterval>
    <AbilityGroupInterval interval="1.0">
        <Conditions>
            <AbilityConditionHasTalent identifier="targetingmatrixfocus_shipmounted" truthywhen="HasTalent"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix-shipmounted" amount="2.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToLastOrderedCharacter>
            <CharacterAbilityApplyStatusEffectsToAllies maxdistance="6000" allowself="true">
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="targettingmatrix-shipmounted" amount="1.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToAllies>
        </Abilities>
    </AbilityGroupInterval>
  </Talent>

	<Talent identifier="targetingmatrixfocus_handheld"> 
		<Icon texture="Content/UI/TalentsIcons1.png" sheetindex="0,0" sheetelementsize="128,128"/>
        <Description tag="talentdescription.targetingmatrixfocus_handheld">
        </Description>
        <Description tag="talentdescription.unlockrecipe">
            <Replace tag="[itemname]" value="entityname.flare_handheldrounds-blueprint" color="gui.orange" />
        </Description>  
		<AddedRecipe itemidentifier="flare_handheldrounds-blueprint"/>
	</Talent>

	<Talent identifier="targetingmatrixfocus_shipmounted"> 
		<Icon texture="Content/UI/TalentsIcons1.png" sheetindex="0,0" sheetelementsize="128,128"/>
        <Description tag="talentdescription.targetingmatrixfocus_shipmounted">
        </Description>
        <Description tag="talentdescription.unlockrecipe">
            <Replace tag="[itemname]" value="entityname.flare_coilgunammobox-blueprint" color="gui.orange" />
        </Description>
		<AddedRecipe itemidentifier="flare_coilgunammobox-blueprint"/>
	</Talent>
  
  <Talent identifier="lightup">
    <Icon texture="Content/UI/TalentsIcons1.png" sheetindex="3,0" sheetelementsize="128,128"/>
    <Description tag="talentdescription.lightup">
    </Description>
    <AbilityGroupInterval>
        <Conditions>
            <AbilityConditionAboveVitality invert="true" vitalitypercentage="0.25"/>
            <AbilityConditionItem tags="smokingitems,pipetobacco"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityApplyStatusEffects>
            <StatusEffects>
                <StatusEffect type="OnAbility" target="Character">
                <ReduceAffliction type="damage" strength="0.1"/>
                <ReduceAffliction type="burn" strength="0.1"/>
                </StatusEffect>
            </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupInterval>
    <AbilityGroupInterval>
        <Conditions>
            <AbilityConditionItem tags="smokingitems,pipetobacco"/>
        </Conditions>
        <Abilities>
            <CharacterAbilityApplyStatusEffects>
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="Character" disabledeltatime="true" multiplyafflictionsbymaxvitality="false" delay="1">
                        <Affliction identifier="nicotinehigh" amount="1.0" />
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffects>
        </Abilities>
    </AbilityGroupInterval>
    <Description tag="talentdescription.unlockrecipe">
        <Replace tag="[itemname]" value="entityname.rum-blueprint" color="gui.orange" />
    </Description>
    <Description tag="talentdescription.unlockrecipe">
        <Replace tag="[itemname]" value="entityname.packofsmokes-blueprint" color="gui.orange" />
    </Description>
    <Description tag="talentdescription.unlockrecipe">
        <Replace tag="[itemname]" value="entityname.flare_harpoons-blueprint" color="gui.orange" />
    </Description>
    <AddedRecipe itemidentifier="rum-blueprint"/>
    <AddedRecipe itemidentifier="packofsmokes-blueprint"/>
    <AddedRecipe itemidentifier="flare_harpoons-blueprint"/>
</Talent>
  

  <Talent identifier="ontheroll"> 
    <Icon texture="Content/UI/TalentsIcons1.png" sheetindex="0,0" sheetelementsize="128,128"/>
    <AbilityGroupEffect abilityeffecttype="OnGainSkillPoint">
      <Conditions>
        <AbilityConditionSkill skillidentifier="helm"/>
      </Conditions>
      <Abilities>
        <CharacterAbilityGainSimultaneousSkill skillidentifier="weapons" />
      </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="None">
      <Abilities>
        <CharacterAbilityGiveStat stattype="ReputationGainMultiplier" value="0.2"/>
      </Abilities>
    </AbilityGroupEffect>
    <AbilityGroupEffect abilityeffecttype="OnLocationDiscovered">
        <Abilities>
            <CharacterAbilityGivePermanentStat statidentifier="ontherollE" stattype="HelmSkillBonus" value="1" removeOnDeath="true" />
            <CharacterAbilityGivePermanentStat statidentifier="ontherollW" stattype="WeaponsSkillBonus" value="1" removeOnDeath="true" />
            <CharacterAbilityGivePermanentStat statidentifier="ontherollM" stattype="MedicalSkillBonus" value="1" removeOnDeath="true" />
            <CharacterAbilityGivePermanentStat statidentifier="ontherollE" stattype="ElectricalSkillBonus" value="1" removeOnDeath="true" />
            <CharacterAbilityGivePermanentStat statidentifier="ontherollMec" stattype="MechanicalSkillBonus" value="1" removeOnDeath="true" />
            <CharacterAbilityGiveMoney amount="500"/>
            <CharacterAbilityApplyStatusEffects>
                <StatusEffect type="OnAbility" target="This">
                    <GiveExperience amount="15"/>
                </StatusEffect>
            </CharacterAbilityApplyStatusEffects>
            <CharacterAbilityApplyStatusEffectsToAllies maxdistance="600000" allowself="true">
                <StatusEffects>
                    <StatusEffect type="OnAbility" target="This">
                        <GiveExperience amount="5"/>
                    </StatusEffect>
                </StatusEffects>
            </CharacterAbilityApplyStatusEffectsToAllies>
        </Abilities>
    </AbilityGroupEffect>
  </Talent>
  
</Talents>